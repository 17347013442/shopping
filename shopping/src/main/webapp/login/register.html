<html>
<head>
    <meta charset="utf-8">
    <title>äº«è´­ç½‘</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href="../assets/css/reset.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/css/style.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../assets/js/jquery-1.7.2.min.js"></script>
    <script language="javascript" src="../assets/js/common/jquery.validate.js" charset="GBK"></script>
    <script language="javascript" src="../assets/js/common/messages_cn.js" charset="utf-8"></script>
    <script language="javascript" src="../assets/js/common/check.js"></script>
    <link href="../css/login/login.css~v=1.0.css" rel="stylesheet" type="text/css"/>
    <style>
        .getCode {
            width: 124px;
            text-align: center;
        }
        .btn-default {
            color: #333;
            background-color: #fff;
            border: 1px solid  #ccc;
        }
        .btn {
            display: inline-block;
            padding: 6px 12px;
            margin-bottom: 0;
            font-size: 14px;
            font-weight: normal;
            line-height: 1.428571429;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            cursor: pointer;
            border-radius: 4px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
        }
        .getCode:hover{
            color: #333;
            background-color: #ebebeb;
            border-color: #adadad;
        }
    </style>
</head>
<body class="news_logo">


<!-- Copyright © 2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  09/22/19 20:31:32.<br>
<b>Address:</b> <a class="info" href="http://www.isgo.com/login/register.html">http://www.isgo.com/login/register.html</a><br>
<b>Title:</b> äº«è´­ç½‘ &nbsp;&bull;&nbsp; <b>Size:</b> 15968 &nbsp;&bull;&nbsp; <b>Last Modified:</b> Mon, 09 Sep 2019 11:21:35 GMT<br></div>
<!-- /Copyright © 2005. Spidersoft Ltd -->


<div class="logo_sign">
    <div class="logo_banner"><a href="../index.html"><img src="../assets/images/logo.png"/></a></div>
    <div class="logo_main">
        <div class="logo_s_main logo_s3_main">
            <div class="isgo-login-l">
                <h3>æ–°ä¼šå‘˜æ³¨å†Œ</h3>
                <form id="regForm" name="userRegForm">
                    <table class="isgo-login-table" cellpadding="0" cellspacing="0" border="0">
                        <tbody>
<!--                         <tr>
                            <td width="110" align="right">
                                <div class="span1">æ˜µç§°ï¼š</div>
                            </td>
                            <td>
                                <input type="text" name="Code" id="Code" maxlength="11" class="isgo-login-text"
                                       placeholder="è¯·è¾“å…¥æ˜µç§°">
                            </td>
                        </tr> -->
                        <tr>
                            <td width="110" align="right">
                                <div class="span1">æ‰‹æœºå·<span class="validete" style="color:red">*</span>ï¼š</div>
                            </td>
                            <td>
                                <input type="text" name="MobilePhone" id="MobilePhone" maxlength="11" class="isgo-login-text"
                                       placeholder="è¯·è¾“å…¥æ‰‹æœºå·">
                                <div class="error-info">
                                    <span class="field-validation-valid mobilePhone-error" style="color:red;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td align="right" class="text_padding"> <div class="span1">çŸ­ä¿¡éªŒè¯ç <span style="color: red;">*</span>ï¼š</div></td>
                            <td>
                                <input type="text" name="smsCode" id="code1" class="isgo-login-text" maxlength="6"
                                       style="width:110px;color: black;width:110px; vertical-align:middle"
                                       placeholder="è¯·è¾“å…¥éªŒè¯ç " />
                                <input type="button" value="å…è´¹è·å–éªŒè¯ç " class="btn btn-default getCode" />
                                <div class="error-info">
                                    <span class="field-validation-valid code-error" style="color:red;"></span>
                                </div>
                            </td>
                        </tr>
<!--                         <tr>
                            <td width="110" align="right">
                                <div class="span1">å§“åï¼š</div>
                            </td>
                            <td>
                                <input type="text" name="Name" id="Name" maxlength="11" class="isgo-login-text"
                                       placeholder="è¯·è¾“å…¥å§“å">
                            </td>
                        </tr> -->
                        <tr>
                            <td align="right">
                                <div class="span1">å¯†ç <span style="color: red;">*</span>ï¼š</div>
                            </td>
                            <td>
                                <input type="password" id="Password" name="Password" class="isgo-login-text"
                                       maxlength="20" placeholder="è¯·è¾“å…¥å¯†ç "/>
                                <div class="error-info">
                                    <span class="field-validation-valid pwd-error" style="color:red;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td width="110" align="right"> <div class="span1">ç¡®è®¤å¯†ç <span style="color: red;">*</span>ï¼š</div></td>
                            <td>
                                <input id="confirmPassword" name="password" type="password" class="isgo-login-text" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "/>
                                <div class="error-info">
                                    <span class="field-validation-valid newpwd-error" style="color:red;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td align="right"></td>
                            <td>
                                <ul id="readUl" style="overflow:hidden; width:100%; padding:0px;">
                                    <li class="fuwu"
                                        style="padding-bottom:0px;height: 25px;overflow: hidden;width: 168px;line-height: 30px;font-size: 14px;zoom: 1;vertical-align: middle;">
                                        <div>
                                            <input style="float: left;height: 20px;line-height: 22px;margin-top: 5px;"
                                                   type="checkbox" id="readerId" name="reader" checked/></div>
                                              <em id="seeTK" style="float:none;line-height: 30px;margin-left: 4px;">å·²ç»é˜…è¯»å¹¶åŒæ„ <a
                                                href="agreement.html" target="_blank" style="float:none;">ç”¨æˆ·åè®®</a></em>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td align="right"></td>
                            <td><input type="button" class="isgo-login-bt2" value="æ³¨&nbsp;&nbsp;&nbsp;&nbsp;å†Œ" id="regFormSubmit"/></td>
                        </tr>
                        </tbody>
                    </table>
                </form>
            </div>
            <div class="isgo-login-r isgo-s-r">
                <div class="login-r-top">
                    <a href="#">
                        <img src="../assets/images/er.jpg">
                    </a>
                    <h4>å¾®ä¿¡å…³æ³¨&nbsp;â€œISGOç”Ÿæ´»å®¶â€</h4>
                    <p>æŸ¥è®¢å• æŸ¥ç‰©æµ ä¹äº«ç¼¤çº·æ´»åŠ¨</p>
                    <strong>æˆ‘æ˜¯äº«è´­ä¼šå‘˜ï¼Ÿ</strong>
                    <strong>
                        <a href="login.html" class="loginButton">é©¬ä¸Šç™»å½•</a>
                    </strong>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../js/common/jquery-1.10.2.min.js"></script>
<script src="../js/common/jquery-cookie.js"></script>
<script src="../js/common/url.js"></script>
<script src="../js/common/common.js"></script>
<script src="../js/common/dialog.js"></script>
<script type="text/javascript" src="../js/common/jQuery.md5.js"></script>
<script type="text/javascript">
    $(function(){
//        var loginContentHeight = parseInt($(".register-content").css("height"));
//        $(".register-content").css("margin-top",-loginContentHeight/2 + "px");
//        è§£å†³IE7/8ä¸­çš„å¯†ç æ¡†ä¸­çš„placeholderæ˜¾ç¤ºçš„æ˜¯ç‚¹ç‚¹ç‚¹çš„é—®é¢˜
//        var fakePassword = $("#fake-password");
//        var $password = $("#password");
//        fakePassword.focus(function(){
//            fakePassword.hide();
//            $password.show().focus();
//        });
//        $password.focusout(function(){
//            if($.trim($password.val()) === ""){
//                $password.hide();
//                fakePassword.show();
//            }
//        });
        if($("#mask")){
            $("#mask").hide();
        }
    });
    //    ç‚¹å‡»æ³¨å†Œ
    var email,name,mobilePhone;
    $("#regFormSubmit").on("click",function(){
        var checked = $("#readerId").prop("checked");
        if(!checked){
            dialogModule.iTips("è¯·å‹¾é€‰ç”¨æˆ·åè®®");
            return false;
        }
        var flag = checkForm();
        if(flag == false){ //è¡¨å•éªŒè¯ä¸é€šè¿‡
            return ;
        }

        $.ajax({
            type:"POST",
            url: $.url.webUrl + "do4A/a2/User",
            beforeSend: function(xhr) {
                xhr.setRequestHeader("Content-Type",'application/json');
            },
            data:JSON.stringify({
                // Code: $("#Code").val(),
                Email: email,
                // Name: $("#Name").val(),
                MobilePhone:mobilePhone,
                Password: $.md5($("#Password").val()),
                VerificationCode: localStorage.getItem("VerificationCode"),
                VerificationId:VerificationId
            }),
            success:function (data){
                dialogModule.iTips("æ­å–œä½ æ³¨å†ŒæˆåŠŸ");
                setTimeout(function () {
                    location.href = "login.html";
                },3000)


            }
        });
    });

    //è¡¨å•å…ƒç´ éªŒè¯
    function checkForm(){
//        email = $.trim($("#email").val());
//        name = $.trim($("#name").val());
        mobilePhone = $.trim($("#MobilePhone").val());


        if(!mobilePhone){
            $(".mobilePhone-error").text("è¯·è¾“å…¥æ‰‹æœºå·").show();
            return false;
        }else if(!/^(1[35784]\d{9})$/.test(mobilePhone)){
            $(".mobilePhone-error").text("è¯·è¾“å…¥æ ¼å¼æ­£ç¡®çš„æ‰‹æœºå·ç ").show();
            return false;
        }else{
            $(".mobilePhone-error").hide();
        }

        var code =$.trim($("#code1").val());

        if(code==""){
            $(".code-error").text("è¯·è¾“å…¥éªŒè¯ç ").show();
            return false;
        } else {
            $(".code-error").hide();
        }
        if(code!=VerificationCode){
            $(".code-error").text("éªŒè¯ç é”™è¯¯").show();
            return false;
        }

        password = $.trim($("#Password").val());
        confirmPassword = $.trim($("#confirmPassword").val());
        if(!password){
            $(".pwd-error").text("è¯·è¾“å…¥å¯†ç ").show();
            return false;
        }else if(password.length < 6 || password.length > 20){
            $(".pwd-error").text("å¯†ç ç”±6-20ä¸ªå­—ç¬¦ç»„æˆ").show();
            return false;
        } else {
            $(".pwd-error").hide()
        }

        if(!confirmPassword){
            $(".newpwd-error").text("è¯·å†æ¬¡è¾“å…¥å¯†ç ").show();
            return false;
        }else if(confirmPassword != password){
            $(".newpwd-error").text("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´").show();
            return false;
        } else {
            $(".newpwd-error").hide()
        }
        return true;

    }
    //å¯†ç  å¤±å»ç„¦ç‚¹çš„æ ¡éªŒ
    $("#Password").on("blur",function(){
        password = $.trim($("#Password").val());
        if(!password){
            $(".pwd-error").text("è¯·è¾“å…¥å¯†ç ").show();
            return false;
        }else if(password.length < 6 || password.length > 20){
            $(".pwd-error").text("å¯†ç ç”±6-20ä¸ªå­—ç¬¦ç»„æˆ").show();
            return false;
        } else {
            $(".pwd-error").hide()
        }
    });
    // ç¡®è®¤å¯†ç  å¤±å»ç„¦ç‚¹çš„æ ¡éªŒ
    $("#confirmPassword").on("blur",function(){
        confirmPassword = $.trim($("#confirmPassword").val());
        if(!confirmPassword){
            $(".newpwd-error").text("è¯·å†æ¬¡è¾“å…¥å¯†ç ").show();
            return false;
        }else if(confirmPassword != password){
            $(".newpwd-error").text("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´").show();
            return false;
        } else {
            $(".newpwd-error").hide()
        }
    });
    //æ‰‹æœºå· å¤±å»ç„¦ç‚¹çš„æ ¡éªŒ
    $("#MobilePhone").on("blur",function(){
        mobilePhone = $.trim($("#MobilePhone").val());
        if(!mobilePhone){
            $(".mobilePhone-error").text("è¯·è¾“å…¥æ‰‹æœºå·").show();
            return false;
        }else if(!/^(1[35784]\d{9})$/.test(mobilePhone)){
            $(".mobilePhone-error").text("è¯·è¾“å…¥æ ¼å¼æ­£ç¡®çš„æ‰‹æœºå·ç ").show();
            return false;
        }else{
            $(".mobilePhone-error").hide();
        }
    });

    var VerificationCode,VerificationId;
    $(".getCode").on("click",function(){
        var mobile = $("#MobilePhone").val();
        if(!mobile){
            $(".mobilePhone-error").text("è¯·å¡«å†™æ‰‹æœºå·").show();
            return false;
        }else if(!/^(1[35784]\d{9})$/.test(mobile)){
            $(".mobilePhone-error").text("è¯·å¡«å†™æ­£ç¡®æ‰‹æœºå·").show();
            return false;
        } else {
            $(".mobilePhone-error").hide();
        }
        time(this);
        $.ajax({
            type: "GET",
            url: $.url.webUrl + "do4A/a2/VerificationCode",
            data: {
                MobilePhone: mobile
            },
            success:function (data){
                VerificationId = data.VerificationId;
                VerificationCode = data.VerificationCode;
                localStorage.setItem("VerificationCode",data.VerificationCode);
                localStorage.setItem("VerificationId",data.VerificationId);
                localStorage.setItem("MobilePhone",mobile);
                $(".code-error").hide();
                $(".select-checktype").attr("disabled",true);
            },
            error:function (xhr){
                if(xhr.status != 401){
                    if(xhr.responseText){
                        $(".code-error").text(xhr.responseText).show();
                    }else{
                        $(".code-error").text("è¯·æ±‚è¶…æ—¶").show();
                    }
                }
            }
        });
    });
    var wait = 59;
    function time(o) {
        if (wait == 0) {
            o.removeAttribute("disabled");
            o.value = "ç‚¹å‡»é‡æ–°å‘é€";
            wait = 59;
        } else {
            o.setAttribute("disabled", true);
            o.value = "é‡æ–°å‘é€(" + wait + ")";
            wait--;
            setTimeout(function () {
                        time(o)
                    },
                    1000);
        }
    }

    //è§¦å‘ç™»å½•æŒ‰é’®çš„æ–¹æ³•
//    document.onkeydown=function(e){
//        var oEvent=e||event;
//        if(oEvent.keyCode==13){
//            $(".login-button").trigger("click");
//        }
//    };
</script>
</body>
</html>
